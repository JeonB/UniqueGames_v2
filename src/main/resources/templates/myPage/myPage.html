<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>myPage</title>
  <link rel="stylesheet" href="/css/login.css">
  <script src="/js/jquery-3.6.4.min.js"></script>
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <script>
    $(document).ready(function(){
      var password = "${memberVo.password}";
      var phone1 = "${memberVo.phone1}";
      var phone2 = "${memberVo.phone2}";
      var phone3 = "${memberVo.phone3}";
      var email1 = "${memberVo.email1}";
      var email2 = "${memberVo.email2}";

      function emailCheck(asValue){
        var regex = /[A-za-z0-9]{4,20}$/;
        return regex.test(asValue);
      }

      function phoneCheck(asValue) {
        var regex = /^\d{3,4}$/;
        return regex.test(asValue);
      }

      $("#button-gradient").click(function(){
        if($("input[name='password']").val()==""){
          alert("비밀번호를 입력해주세요");
          $("input[name='password']").focus();
          return false;
        } else if($("input[name='password']").val() != password){
          alert("비밀번호가 일치하지 않습니다");
          $("input[name='password']").focus();
          return false;
        } else if($("input[name='email1']").val()==""){
          alert("이메일은 필수 입력 항목입니다");
          $("input[name='email1']").focus();
          return false;
        } else if(!emailCheck($("input[name='email1']").val())){
          alert("이메일은 영문 또는 숫자로 4자리 이상 입력해주세요");
          $("input[name='email1']").focus();
          return false;
        } else if($("input[name='email2']").val()=="" && $("#selectbox-email").val()=="choose" || $("input[name='email2']").val()=="" && $("#selectbox-email").val()=="direct"){
          alert("이메일 주소를 전부 작성해주세요");
          $("input[name='email2']").focus();
          return false;
        } else if($("#emailAuth").css("color") === "rgb(255, 0, 0)") {
          alert("이메일 인증번호를 확인해주세요");
          $("#email-auth-check").focus();
          return false;
        } else if($("#selectbox-mobile").val()=="choose") {
          alert("통신사를 선택해주세요");
          $("#selectbox-mobile").focus();
          return false;
        } else if($("#selectbox-phone").val()=="choose") {
          alert("휴대전화는 필수 입력 항목입니다");
          $("#selectbox-phone").focus();
          return false;
        } else if($("input[name='phone2']").val()=="") {
          alert("휴대전화는 필수 입력 항목입니다");
          $("input[name='phone2']").focus();
          return false;
        } else if(!phoneCheck($("input[name='phone2']").val())) {
          alert("휴대전화는 숫자 3,4자리로 입력해주세요.
              </li>
          <li id="must-insert">
            <p id="label-dot">*</p>
            <label>휴대전화</label><span id="phoneMsg"></span>
          </li>
          <li id="select-box-list">
            <select id="selectbox-mobile" name="mobile">
              <option value="choose">선택하세요</option>
              <option value="SKT">SKT</option>
              <option value="KT">KT</option>
              <option value="LG">LG</option>
            </select>
            <select id="selectbox-phone" name="phone1">
              <option value="choose">선택하세요</option>
              <option value="010">010</option>
              <option value="011">011</option>
              <option value="016">016</option>
              <option value="017">017</option>
              <option value="018">018</option>
              <option value="019">019</option>
            </select>
            <input type="text" id="input-phone" name="phone2" value="${memberVo.phone2 }">
              <input type="text" id="input-phone" name="phone3" value="${memberVo.phone3 }">
          </li>
          <li>
            <p id="phone-help">* 연락처 입력 시 사이에 "-"를 넣어주세요</p>
          </li>
          <li>
            <a href="myPageChangePhone?member_id=${memberVo.member_id }" id="link-changePhone">
              <span>휴대전화 변경 ></span>
            </a>
          </li>
          <li>
            <p id="must-insert">
              <p id="label-dot">*</p>
              <label>주소</label>
            </p>
          </li>
          <li id="li-addess">
            <input type="text" id="input-common" name="addr1" value="${memberVo.addr1 }" readonly>
              <input type="text" id="input-common" name="addr2" value="${memberVo.addr2 }">
                <input type="button" id="address-btn-style" value="주소찾기">
          </li>
          <li>
            <a href="myPageChangeAddress?member_id=${memberVo.member_id }" id="link-changeAddress">
              <span>주소 변경 ></span>
            </a>
          </li>
          <li>
            <button id="button-gradient">수정하기</button>
            <a href="myPageWithdrawalForm?member_id=${memberVo.member_id }">
              <button id="button-gradient">회원탈퇴</button>
            </a>
          </li>
        </ul>
        </div>
        </form>
        </section>
          <section id="sub-content-1">
            <a href="../main">
              <button id="button-gradient">메인으로</button>
            </a>
          </section>
          <footer>
            <jsp:include page="../main/footer.jsp"></jsp:include>
          </footer>
        </body>
        </html>
